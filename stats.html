<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <title>Player Statistics</title>
    <link rel="stylesheet" href="index.css">
    <script src="https://kit.fontawesome.com/ced4c4a7f8.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body>
    <div class="status">
        <a login href="signin.html">Login</a>
        <a signup href="signup.html">Signup</a>
        <a logout class="hide" href="index.html">Log out</a>
        <a href="index.html">Home</a>
        <div class="player-info hide" id="playerInfo">
            <div class="player-info-left">
                <span class="name"></span>
                <span class="player-level" id="playerLevel"></span>
            </div>
            <div class="player-avatar hide" id="playerAvatar">
                <img id="playerAvatarImg" src="" alt="Avatar" />
                <div class="player-avatar-placeholder">üë§</div>
            </div>
        </div>
    </div>
    <div id="loginNotification" class="login-notification" style="display: none;">
        <div class="login-notification-content">
            <p>You must be logged in to view your player statistics. Please <a href="signin.html">sign in</a> to see your stats, or visit the <a href="IR.html">Rankings page</a> to view leaderboards.</p>
            <button id="closeNotification" class="close-notification-btn">√ó</button>
        </div>
    </div>
    <div class="container2">
        <div id="levelProgression" class="level-progression-card">
            <h2 class="level-progression-title">Player Level</h2>
            <div class="level-progression-content">
                <span id="playerLevelDisplay" class="level-display">Lv. 1</span>
                <div class="xp-progress-container">
                    <div class="xp-labels">
                        <span id="currentXP" class="xp-label">0 XP</span>
                        <span id="nextLevelXP" class="xp-label">50 XP</span>
                    </div>
                    <div class="xp-progress-wrapper">
                        <div id="xpProgressBar" class="xp-progress-bar">
                            <span id="xpProgressText" class="xp-progress-text"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="tabs-container">
            <div class="tabs">
                <button class="tab-button active" data-tab="easy">Easy Mode</button>
                <button class="tab-button" data-tab="normal">Normal Mode</button>
                <button class="tab-button" data-tab="master">Master Mode</button>
                <button class="tab-button" data-tab="race">Race Mode</button>
                <button class="tab-button" data-tab="hell">Hell Mode</button>
            </div>
            
            <div class="tab-content active" id="easy-tab">
                <div class="easy stats-card">
                    <h1>Your Easy mode stats</h1>
                    <div style="margin-bottom: 15px; display: flex; flex-direction: column; gap: 10px;">
                        <div style="display: flex; gap: 10px; align-items: center; flex-wrap: wrap;">
                            <label style="color: white; font-weight: bold;">Filter by input:</label>
                            <select class="input-filter-select" data-mode="easy">
                                <option value="all">All</option>
                                <option value="keyboard">‚å®Ô∏è Keyboard</option>
                                <option value="controller">üéÆ Controller</option>
                                <option value="mobile">üì± Mobile</option>
                                <option value="mouse">üñ±Ô∏è Mouse</option>
                            </select>
                        </div>
                        <div style="display: flex; gap: 10px; align-items: center; flex-wrap: wrap;">
                            <label style="color: white; font-weight: bold;">Filter by time multiplier:</label>
                            <select class="time-filter-select" data-mode="easy">
                                <option value="all">All</option>
                            </select>
                        </div>
                        <div style="display: flex; gap: 10px; align-items: center; flex-wrap: wrap;">
                            <label style="color: white; font-weight: bold;">Filter by clear type:</label>
                            <select class="clear-filter-select" data-mode="easy">
                                <option value="all">All</option>
                            </select>
                        </div>
                        <div style="display: flex; gap: 10px; align-items: center; flex-wrap: wrap;">
                            <label style="color: white; font-weight: bold;">Filter by vanish mode:</label>
                            <select class="vanish-filter-select" data-mode="easy">
                                <option value="all">All</option>
                            </select>
                        </div>
                    </div>
                    <div class="scores">
                        <table id="easyStats">
                            <thead>
                                <tr>
                                    <th>Games played</th>
                                    <th>Best score</th>
                                    <th>Average score</th>
                                </tr>
                            </thead>
                        </table>
                    </div>
                </div>
                <div class="easy stats-card">
                    <h1>Easy Mode Progress</h1>
                    <canvas id="easyChart"></canvas>
                </div>
                <div class="easy stats-card">
                    <h1>Easy Mode History</h1>
                    <div class="scores">
                        <table id="easyHistory">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Score</th>
                                    <th>Time</th>
                                    <th>Clear Type</th>
                                    <th>Input</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </div>
            </div>
            
            <div class="tab-content" id="normal-tab">
                <div class="normal stats-card">
                    <h1>Your Normal mode stats</h1>
                    <div style="margin-bottom: 15px; display: flex; flex-direction: column; gap: 10px;">
                        <div style="display: flex; gap: 10px; align-items: center; flex-wrap: wrap;">
                            <label style="color: white; font-weight: bold;">Filter by input:</label>
                            <select class="input-filter-select" data-mode="normal">
                                <option value="all">All</option>
                                <option value="keyboard">‚å®Ô∏è Keyboard</option>
                                <option value="controller">üéÆ Controller</option>
                                <option value="mobile">üì± Mobile</option>
                                <option value="mouse">üñ±Ô∏è Mouse</option>
                            </select>
                        </div>
                        <div style="display: flex; gap: 10px; align-items: center; flex-wrap: wrap;">
                            <label style="color: white; font-weight: bold;">Filter by time multiplier:</label>
                            <select class="time-filter-select" data-mode="normal">
                                <option value="all">All</option>
                            </select>
                        </div>
                        <div style="display: flex; gap: 10px; align-items: center; flex-wrap: wrap;">
                            <label style="color: white; font-weight: bold;">Filter by clear type:</label>
                            <select class="clear-filter-select" data-mode="normal">
                                <option value="all">All</option>
                            </select>
                        </div>
                        <div style="display: flex; gap: 10px; align-items: center; flex-wrap: wrap;">
                            <label style="color: white; font-weight: bold;">Filter by vanish mode:</label>
                            <select class="vanish-filter-select" data-mode="normal">
                                <option value="all">All</option>
                            </select>
                        </div>
                    </div>
                    <div class="scores">
                        <table id="normalStats">
                            <thead>
                                <tr>
                                    <th>Games played</th>
                                    <th>Best score</th>
                                    <th>Average score</th>
                                    <th>Best grade</th>
                                </tr>
                            </thead>
                        </table>
                    </div>
                </div>
                <div class="normal stats-card">
                    <h1>Normal Mode Progress</h1>
                    <canvas id="normalChart"></canvas>
                </div>
                <div class="normal stats-card">
                    <h1>Normal Mode History</h1>
                    <div class="scores">
                        <table id="normalHistory">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Score</th>
                                    <th>Grade</th>
                                    <th>Time</th>
                                    <th>Clear Type</th>
                                    <th>Input</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </div>
            </div>
            
            <div class="tab-content" id="master-tab">
                <div class="master stats-card">
                    <h1>Your Master mode stats</h1>
                    <div style="margin-bottom: 15px; display: flex; flex-direction: column; gap: 10px;">
                        <div style="display: flex; gap: 10px; align-items: center; flex-wrap: wrap;">
                            <label style="color: white; font-weight: bold;">Filter by input:</label>
                            <select class="input-filter-select" data-mode="master">
                                <option value="all">All</option>
                                <option value="keyboard">‚å®Ô∏è Keyboard</option>
                                <option value="controller">üéÆ Controller</option>
                                <option value="mobile">üì± Mobile</option>
                                <option value="mouse">üñ±Ô∏è Mouse</option>
                            </select>
                        </div>
                        <div style="display: flex; gap: 10px; align-items: center; flex-wrap: wrap;">
                            <label style="color: white; font-weight: bold;">Filter by time multiplier:</label>
                            <select class="time-filter-select" data-mode="master">
                                <option value="all">All</option>
                            </select>
                        </div>
                        <div style="display: flex; gap: 10px; align-items: center; flex-wrap: wrap;">
                            <label style="color: white; font-weight: bold;">Filter by clear type:</label>
                            <select class="clear-filter-select" data-mode="master">
                                <option value="all">All</option>
                            </select>
                        </div>
                        <div style="display: flex; gap: 10px; align-items: center; flex-wrap: wrap;">
                            <label style="color: white; font-weight: bold;">Filter by vanish mode:</label>
                            <select class="vanish-filter-select" data-mode="master">
                                <option value="all">All</option>
                            </select>
                        </div>
                    </div>
                    <div class="scores">
                        <table id="masterStats">
                            <thead>
                                <tr>
                                    <th>Games played</th>
                                    <th>Best score</th>
                                    <th>Average score</th>
                                    <th>Best grade</th>
                                </tr>
                            </thead>
                        </table>
                    </div>
                </div>
                <div class="master stats-card">
                    <h1>Master Mode Progress</h1>
                    <canvas id="masterChart"></canvas>
                </div>
                <div class="master stats-card">
                    <h1>Master Mode History</h1>
                    <div class="scores">
                        <table id="masterHistory">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Score</th>
                                    <th>Grade</th>
                                    <th>Time</th>
                                    <th>Clear Type</th>
                                    <th>Input</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </div>
            </div>
            
            <div class="tab-content" id="race-tab">
                <div class="race stats-card">
                    <h1>Your Race mode stats</h1>
                    <div style="margin-bottom: 15px; display: flex; flex-direction: column; gap: 10px;">
                        <div style="display: flex; gap: 10px; align-items: center; flex-wrap: wrap;">
                            <label style="color: white; font-weight: bold;">Filter by input:</label>
                            <select class="input-filter-select" data-mode="race">
                                <option value="all">All</option>
                                <option value="keyboard">‚å®Ô∏è Keyboard</option>
                                <option value="controller">üéÆ Controller</option>
                                <option value="mobile">üì± Mobile</option>
                                <option value="mouse">üñ±Ô∏è Mouse</option>
                            </select>
                        </div>
                        <div style="display: flex; gap: 10px; align-items: center; flex-wrap: wrap;">
                            <label style="color: white; font-weight: bold;">Filter by time multiplier:</label>
                            <select class="time-filter-select" data-mode="race">
                                <option value="all">All</option>
                            </select>
                        </div>
                        <div style="display: flex; gap: 10px; align-items: center; flex-wrap: wrap;">
                            <label style="color: white; font-weight: bold;">Filter by clear type:</label>
                            <select class="clear-filter-select" data-mode="race">
                                <option value="all">All</option>
                            </select>
                        </div>
                        <div style="display: flex; gap: 10px; align-items: center; flex-wrap: wrap;">
                            <label style="color: white; font-weight: bold;">Filter by vanish mode:</label>
                            <select class="vanish-filter-select" data-mode="race">
                                <option value="all">All</option>
                            </select>
                        </div>
                    </div>
                    <div class="scores">
                        <table id="raceStats">
                            <thead>
                                <tr>
                                    <th>Games played</th>
                                    <th>Best score</th>
                                    <th>Average score</th>
                                    <th>Times completed</th>
                                </tr>
                            </thead>
                        </table>
                    </div>
                </div>
                <div class="race stats-card">
                    <h1>Race Mode Progress</h1>
                    <canvas id="raceChart"></canvas>
                </div>
                <div class="race stats-card">
                    <h1>Race Mode History</h1>
                    <div class="scores">
                        <table id="raceHistory">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Score</th>
                                    <th>Time</th>
                                    <th>Clear Type</th>
                                    <th>Input</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </div>
            </div>
            
            <div class="tab-content" id="hell-tab">
                <div class="hell stats-card">
                    <h1>Your Hell mode stats</h1>
                    <div style="margin-bottom: 15px; display: flex; flex-direction: column; gap: 10px;">
                        <div style="display: flex; gap: 10px; align-items: center; flex-wrap: wrap;">
                            <label style="color: white; font-weight: bold;">Filter by input:</label>
                            <select class="input-filter-select" data-mode="hell">
                                <option value="all">All</option>
                                <option value="keyboard">‚å®Ô∏è Keyboard</option>
                                <option value="controller">üéÆ Controller</option>
                                <option value="mobile">üì± Mobile</option>
                                <option value="mouse">üñ±Ô∏è Mouse</option>
                            </select>
                        </div>
                        <div style="display: flex; gap: 10px; align-items: center; flex-wrap: wrap;">
                            <label style="color: white; font-weight: bold;">Filter by time multiplier:</label>
                            <select class="time-filter-select" data-mode="hell">
                                <option value="all">All</option>
                            </select>
                        </div>
                        <div style="display: flex; gap: 10px; align-items: center; flex-wrap: wrap;">
                            <label style="color: white; font-weight: bold;">Filter by clear type:</label>
                            <select class="clear-filter-select" data-mode="hell">
                                <option value="all">All</option>
                            </select>
                        </div>
                        <div style="display: flex; gap: 10px; align-items: center; flex-wrap: wrap;">
                            <label style="color: white; font-weight: bold;">Filter by vanish mode:</label>
                            <select class="vanish-filter-select" data-mode="hell">
                                <option value="all">All</option>
                            </select>
                        </div>
                    </div>
                    <div class="scores">
                        <table id="hellStats">
                            <thead>
                                <tr>
                                    <th>Games played</th>
                                    <th>Best score</th>
                                    <th>Average score</th>
                                    <th>Best grade</th>
                                </tr>
                            </thead>
                        </table>
                    </div>
                </div>
                <div class="hell stats-card">
                    <h1>Hell Mode Progress</h1>
                    <canvas id="hellChart"></canvas>
                </div>
                <div class="hell stats-card">
                    <h1>Hell Mode History</h1>
                    <div class="scores">
                        <table id="hellHistory">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Score</th>
                                    <th>Grade</th>
                                    <th>Time</th>
                                    <th>Clear Type</th>
                                    <th>Input</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
<script type="module" src="firebase.js"></script>
<script type="module" src="stats.js"></script>
<script type="module" src="hm.js"></script>
<script type="module" src="loadBackground.js"></script>
<script type="module" src="loadTheme.js"></script>

</html>


