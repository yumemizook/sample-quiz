<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <title>Home</title>
    <link rel="stylesheet" href="index.css" />
  </head>
  <body>
    <div class="status">
      <a login href="signin.html">Login</a>
      <a signup href="signup.html">Signup</a>
      <a logout class="hide" href="index.html">Log out</a>
      <div class="player-info hide" id="playerInfo">
        <div class="player-info-left">
          <span class="name"></span>
          <span class="player-level" id="playerLevel"></span>
        </div>
        <div class="player-avatar hide" id="playerAvatar">
          <img id="playerAvatarImg" src="" alt="Avatar" />
          <div class="player-avatar-placeholder">üë§</div>
        </div>
      </div>
    </div>
    <div id="profileBanner" class="profile-banner" style="display: none">
      <img id="bannerImage" src="" alt="Profile Banner" />
    </div>
    <div class="container menu-container">
      <div class="menu-header">
        <h1 class="menu-title">Icy's Quiz Challenge</h1>
        <p class="menu-subtitle">
          TGM-style quiz game with timers, grades and more!
        </p>
      </div>

      <div class="mode-selection">
        <h2 class="mode-selection-title">Select Difficulty</h2>
        <div class="mode-cards">
          <div class="mode-card" data-mode="easy">
            <div class="mode-card-header">
              <span class="mode-icon">üå±</span>
              <h3 class="mode-name">Easy</h3>
            </div>
            <p class="mode-description">
              Perfect for beginners. Answer 30 easy questions as fast as you
              can!
            </p>
            <div class="mode-difficulty easy-diff">Beginner Friendly</div>
          </div>

          <div class="mode-card active" data-mode="normal">
            <div class="mode-card-header">
              <span class="mode-icon">‚≠ê</span>
              <h3 class="mode-name">Normal</h3>
            </div>
            <p class="mode-description">
              Answer questions to score points. The more you answer, the higher
              your score.
            </p>
            <div class="mode-difficulty normal-diff">Standard Challenge</div>
          </div>

          <div class="mode-card" data-mode="master" id="masterModeCard">
            <div class="mode-card-header">
              <span class="mode-icon">üëë</span>
              <h3 class="mode-name">Master</h3>
            </div>
            <p class="mode-description">
              Answer questions with a slowly shrinking time limit. Can you be
              the Grand Master?<br><small style="opacity: 0.7;">üí° Click 5 times to toggle Race mode</small>
            </p>
            <div class="mode-difficulty master-diff">Expert Level</div>
          </div>

          <div class="mode-card hide" data-mode="master130" id="raceModeCard">
            <div class="mode-card-header">
              <span class="mode-icon">‚ö°</span>
              <h3 class="mode-name">Race</h3>
            </div>
            <p class="mode-description">
              Race against time! 130 questions with a 7 minute time limit. Text elements fade randomly after question 100.<br><small style="opacity: 0.7;">üí° Click 5 times to toggle Master mode</small>
            </p>
            <div class="mode-difficulty master-diff">Extreme Challenge</div>
          </div>

          <div class="mode-card" data-mode="hell">
            <div class="mode-card-header">
              <span class="mode-icon">üî•</span>
              <h3 class="mode-name">Hell</h3>
            </div>
            <p class="mode-description">
              Extremely difficult questions with inhumane time limits. Not for
              the faint of heart.
            </p>
            <div class="mode-difficulty hell-diff">Ultimate Challenge</div>
          </div>

          <div class="mode-card hide" data-mode="secret" id="secretModeCard">
            <div class="mode-card-header">
              <span class="mode-icon">üíÄ</span>
              <h3 class="mode-name">??????</h3>
            </div>
            <p class="mode-description">One step beyond Hell. No way back.</p>
            <div class="mode-difficulty hell-diff">Secret Mode</div>
          </div>
        </div>
      </div>

      <div class="mode-settings collapsed" id="modeSettings" style="display: none;">
        <h2 class="mode-settings-title">
          <span>Mode Settings</span>
          <button class="mode-settings-toggle" id="modeSettingsToggle" aria-label="Toggle settings">
            <span class="toggle-icon">‚ñº</span>
          </button>
        </h2>
        <div class="settings-container" id="settingsContainer">
          <div class="setting-item">
            <label class="setting-label">
              <span class="setting-text">Lives:</span>
              <div class="arrow-selector" data-setting="lives">
                <button class="arrow-btn arrow-left" aria-label="Previous option">‚óÄ</button>
                <span class="selector-value" id="livesValue">30 Lives</span>
                <button class="arrow-btn arrow-right" aria-label="Next option">‚ñ∂</button>
                <select id="lives" class="setting-select-hidden" style="display: none;">
                  <option value="unlimited">Unlimited</option>
                  <option value="100">100 Lives</option>
                  <option value="30">30 Lives</option>
                  <option value="10">10 Lives</option>
                  <option value="5">5 Lives</option>
                  <option value="1">1 Life</option>
                </select>
              </div>
            </label>
            <span class="setting-description">Each wrong question deducts 1 life. Quiz ends when lives reach 0.</span>
          </div>
          <div class="setting-item">
            <label class="setting-label">
              <span class="setting-text">Time Multiplier:</span>
              <div class="slider-container">
                <input type="range" id="timeMultiplier" class="setting-slider" min="0.75" max="2" step="0.05" value="1" tabindex="0">
                <span class="slider-value" id="timeMultiplierValue">1.00x</span>
              </div>
            </label>
            <span class="setting-description">Adjusts timer countdown speed. Lower values = more time.</span>
          </div>
          <div class="setting-item">
            <label class="setting-label">
              <span class="setting-text">Vanish Mode:</span>
              <div class="arrow-selector" data-setting="fadingMode">
                <button class="arrow-btn arrow-left" aria-label="Previous option">‚óÄ</button>
                <span class="selector-value" id="fadingModeValue">Off</span>
                <button class="arrow-btn arrow-right" aria-label="Next option">‚ñ∂</button>
                <select id="fadingMode" class="setting-select-hidden" style="display: none;">
                  <option value="off">Off</option>
                  <option value="2">2 seconds</option>
                  <option value="1">1 second</option>
                  <option value="0.5">0.5 seconds</option>
                </select>
              </div>
            </label>
            <span class="setting-description">Question elements randomly vanish one at a time at the selected interval</span>
          </div>
          <div class="setting-item">
            <label class="setting-label">
              <span class="setting-text">Start at Question:</span>
              <div class="arrow-selector" data-setting="startQuestion">
                <button class="arrow-btn arrow-left" aria-label="Previous option">‚óÄ</button>
                <span class="selector-value" id="startQuestionValue">Question 1 (Start from beginning)</span>
                <button class="arrow-btn arrow-right" aria-label="Next option">‚ñ∂</button>
                <select id="startQuestion" class="setting-select-hidden" style="display: none;">
                  <option value="0">Question 1 (Start from beginning)</option>
                </select>
              </div>
            </label>
            <span class="setting-description">Start the quiz at a specific question (multiples of 10)</span>
          </div>
        </div>
      </div>

      <div class="menu-actions">
        <button class="menu-btn play-btn">
          <span class="btn-icon">‚ñ∂</span>
          <span class="btn-text">Start Quiz</span>
        </button>
        <div class="secondary-actions">
          <button class="menu-btn secondary-btn hiscore">
            <span class="btn-icon">üèÜ</span>
            <span class="btn-text">Leaderboards</span>
          </button>
          <button class="menu-btn secondary-btn stats">
            <span class="btn-icon">üìä</span>
            <span class="btn-text">Your Stats</span>
          </button>
          <button class="menu-btn secondary-btn wiki">
            <span class="btn-icon">üìñ</span>
            <span class="btn-text">Wiki</span>
          </button>
          <button
            class="menu-btn secondary-btn tos"
            onclick="location.href='tos.html'"
          >
            <span class="btn-icon">üìã</span>
            <span class="btn-text">Terms & Rules</span>
          </button>
          <button
            class="menu-btn secondary-btn privacy"
            onclick="location.href='privacy.html'"
          >
            <span class="btn-icon">üîí</span>
            <span class="btn-text">Privacy Policy</span>
          </button>
          <button
            class="menu-btn secondary-btn settings"
            onclick="location.href='settings.html'"
          >
            <span class="btn-icon">‚öôÔ∏è</span>
            <span class="btn-text">Settings</span>
          </button>
        </div>
      </div>
    </div>
    <div class="tips-container" id="tipsContainer">
      <div class="tips-header">
        <span class="tips-icon">üí°</span>
        <span class="tips-title">Tip</span>
      </div>
      <p class="tips-text" id="tipsText">Loading tips...</p>
    </div>
  </body>
  <script type="module" src="firebase.js"></script>
  <script type="module" src="menuNavigation.js"></script>
  <script type="module" src="hm.js"></script>
  <script>
    // Mode settings handler
    (function() {
      const modeSettings = document.getElementById("modeSettings");
      const fadingMode = document.getElementById("fadingMode");
      const startQuestion = document.getElementById("startQuestion");
      const timeMultiplier = document.getElementById("timeMultiplier");
      const timeMultiplierValue = document.getElementById("timeMultiplierValue");
      
      // Update time multiplier display
      if (timeMultiplier && timeMultiplierValue) {
        timeMultiplier.addEventListener("input", () => {
          const value = parseFloat(timeMultiplier.value);
          timeMultiplierValue.textContent = value.toFixed(2) + "x";
        });
        // Initialize display
        const initialValue = parseFloat(timeMultiplier.value);
        timeMultiplierValue.textContent = initialValue.toFixed(2) + "x";
      }
      
      // Mode question counts
      const modeQuestionCounts = {
        easy: 30,
        normal: 100,
        master: 100,
        master130: 130,
        hell: 200,
        secret: 200
      };
      
      // Update start question options based on selected mode
      function updateStartQuestionOptions(mode) {
        const questionCount = modeQuestionCounts[mode] || 100;
        const startQuestionSelect = document.getElementById("startQuestion");
        const startQuestionValue = document.getElementById("startQuestionValue");
        
        if (startQuestionSelect) {
          startQuestionSelect.innerHTML = '<option value="0">Question 1 (Start from beginning)</option>';
          
          // Add options for multiples of 10
          // For race mode, skip 100, 110, 120 to avoid duplicates (they'll be added as 101, 111, 121)
          const skipIndices = mode === "master130" ? [100, 110, 120] : [];
          for (let i = 10; i < questionCount; i += 10) {
            if (!skipIndices.includes(i)) {
              const option = document.createElement("option");
              option.value = i;
              option.textContent = `Question ${i + 1}`;
              startQuestionSelect.appendChild(option);
            }
          }
          
          // For race mode (master130), add specific questions 101, 111, 121
          if (mode === "master130") {
            const specialQuestions = [100, 110, 120]; // Indices for questions 101, 111, 121
            specialQuestions.forEach(index => {
              if (index < questionCount) {
                const option = document.createElement("option");
                option.value = index;
                option.textContent = `Question ${index + 1}`;
                startQuestionSelect.appendChild(option);
              }
            });
          }
          
          // Update display value
          if (startQuestionValue) {
            const selectedOption = startQuestionSelect.options[startQuestionSelect.selectedIndex];
            startQuestionValue.textContent = selectedOption.textContent;
          }
          
          // Update modifier icons when start question changes
          if (typeof updateModifierIcons === 'function') {
            updateModifierIcons();
          }
        }
      }
      
      // Initialize arrow selector values
      function initializeArrowSelectors() {
        const livesSelect = document.getElementById("lives");
        const livesValue = document.getElementById("livesValue");
        const fadingModeSelect = document.getElementById("fadingMode");
        const fadingModeValue = document.getElementById("fadingModeValue");
        const startQuestionSelect = document.getElementById("startQuestion");
        const startQuestionValue = document.getElementById("startQuestionValue");
        
        if (livesSelect && livesValue) {
          // Set default to "Unlimited" if not already set
          if (livesSelect.selectedIndex === -1 || livesSelect.value === "") {
            livesSelect.selectedIndex = 0; // Select "Unlimited"
          }
          const selectedOption = livesSelect.options[livesSelect.selectedIndex];
          livesValue.textContent = selectedOption.textContent;
        }
        
        if (fadingModeSelect && fadingModeValue) {
          const selectedOption = fadingModeSelect.options[fadingModeSelect.selectedIndex];
          fadingModeValue.textContent = selectedOption.textContent;
        }
        
        if (startQuestionSelect && startQuestionValue) {
          const selectedOption = startQuestionSelect.options[startQuestionSelect.selectedIndex];
          startQuestionValue.textContent = selectedOption.textContent;
        }
      }
      
      // Cycle through select options
      function cycleSelectOption(select, direction, valueElement) {
        const options = Array.from(select.options);
        const currentIndex = select.selectedIndex;
        let newIndex;
        
        if (direction === 'right') {
          newIndex = (currentIndex + 1) % options.length;
        } else {
          newIndex = (currentIndex - 1 + options.length) % options.length;
        }
        
        select.selectedIndex = newIndex;
        const selectedOption = select.options[newIndex];
        
        if (valueElement) {
          valueElement.textContent = selectedOption.textContent;
        }
        
        select.dispatchEvent(new Event('change', { bubbles: true }));
      }
      
      // Setup arrow button handlers
      function setupArrowSelectors() {
        // Lives selector
        const livesSelector = document.querySelector('[data-setting="lives"]');
        if (livesSelector) {
          const leftBtn = livesSelector.querySelector('.arrow-left');
          const rightBtn = livesSelector.querySelector('.arrow-right');
          const livesSelect = document.getElementById("lives");
          const livesValue = document.getElementById("livesValue");
          
          if (leftBtn) {
            leftBtn.addEventListener("click", () => {
              cycleSelectOption(livesSelect, 'left', livesValue);
            });
          }
          if (rightBtn) {
            rightBtn.addEventListener("click", () => {
              cycleSelectOption(livesSelect, 'right', livesValue);
            });
          }
        }
        
        // Fading Mode selector
        const fadingModeSelector = document.querySelector('[data-setting="fadingMode"]');
        if (fadingModeSelector) {
          const leftBtn = fadingModeSelector.querySelector('.arrow-left');
          const rightBtn = fadingModeSelector.querySelector('.arrow-right');
          const fadingModeSelect = document.getElementById("fadingMode");
          const fadingModeValue = document.getElementById("fadingModeValue");
          
          if (leftBtn) {
            leftBtn.addEventListener("click", () => {
              cycleSelectOption(fadingModeSelect, 'left', fadingModeValue);
            });
          }
          if (rightBtn) {
            rightBtn.addEventListener("click", () => {
              cycleSelectOption(fadingModeSelect, 'right', fadingModeValue);
            });
          }
        }
        
        // Start Question selector
        const startQuestionSelector = document.querySelector('[data-setting="startQuestion"]');
        if (startQuestionSelector) {
          const leftBtn = startQuestionSelector.querySelector('.arrow-left');
          const rightBtn = startQuestionSelector.querySelector('.arrow-right');
          const startQuestionSelect = document.getElementById("startQuestion");
          const startQuestionValue = document.getElementById("startQuestionValue");
          
          if (leftBtn) {
            leftBtn.addEventListener("click", () => {
              cycleSelectOption(startQuestionSelect, 'left', startQuestionValue);
            });
          }
          if (rightBtn) {
            rightBtn.addEventListener("click", () => {
              cycleSelectOption(startQuestionSelect, 'right', startQuestionValue);
            });
          }
        }
      }
      
      // Show/hide settings when mode is selected
      function handleModeSelection(mode) {
        if (mode && mode !== "secret") {
          modeSettings.style.display = "block";
          updateStartQuestionOptions(mode);
          // Re-initialize arrow selectors after mode change
          setTimeout(() => {
            initializeArrowSelectors();
          }, 0);
        } else {
          modeSettings.style.display = "none";
        }
      }
      
      // 5-click toggle for master/race mode cards
      let masterCardClickCount = 0;
      let raceCardClickCount = 0;
      let masterCardClickTimer = null;
      let raceCardClickTimer = null;
      const masterModeCard = document.getElementById("masterModeCard");
      const raceModeCard = document.getElementById("raceModeCard");
      
      // Master card 5-click toggle
      if (masterModeCard) {
        masterModeCard.addEventListener("click", (e) => {
          masterCardClickCount++;
          raceCardClickCount = 0; // Reset race card counter
          if (raceCardClickTimer) {
            clearTimeout(raceCardClickTimer);
            raceCardClickTimer = null;
          }
          
          // Clear previous timer
          if (masterCardClickTimer) {
            clearTimeout(masterCardClickTimer);
          }
          
          // Check if clicked 5 times within 2 seconds
          masterCardClickTimer = setTimeout(() => {
            if (masterCardClickCount >= 5) {
              masterModeCard.classList.add("hide");
              raceModeCard.classList.remove("hide");
              // Update mode selection to race mode
              handleModeSelection("master130");
            }
            masterCardClickCount = 0;
            masterCardClickTimer = null;
          }, 2000);
        });
      }
      
      // Race card 5-click toggle
      if (raceModeCard) {
        raceModeCard.addEventListener("click", (e) => {
          raceCardClickCount++;
          masterCardClickCount = 0; // Reset master card counter
          if (masterCardClickTimer) {
            clearTimeout(masterCardClickTimer);
            masterCardClickTimer = null;
          }
          
          // Clear previous timer
          if (raceCardClickTimer) {
            clearTimeout(raceCardClickTimer);
          }
          
          // Check if clicked 5 times within 2 seconds
          raceCardClickTimer = setTimeout(() => {
            if (raceCardClickCount >= 5) {
              raceModeCard.classList.add("hide");
              masterModeCard.classList.remove("hide");
              // Update mode selection to master mode
              handleModeSelection("master");
            }
            raceCardClickCount = 0;
            raceCardClickTimer = null;
          }, 2000);
        });
      }
      
      // Listen for mode card clicks
      document.querySelectorAll(".mode-card").forEach(card => {
        card.addEventListener("click", () => {
          const mode = card.getAttribute("data-mode");
          handleModeSelection(mode);
        });
      });
      
      // Function to update modifier icons on all mode cards
      function updateModifierIcons() {
        const livesValue = document.getElementById("lives")?.value || "unlimited";
        const timeMultiplier = parseFloat(document.getElementById("timeMultiplier")?.value || "1");
        const fadingMode = document.getElementById("fadingMode")?.value || "off";
        const startQuestion = parseInt(document.getElementById("startQuestion")?.value || "0");
        
        // Get all mode modifier containers
        const modifierContainers = document.querySelectorAll(".mode-modifiers");
        
        modifierContainers.forEach(container => {
          const mode = container.getAttribute("data-mode");
          // Only show modifiers for modes that support them
          if (["easy", "normal", "master", "master130", "hell"].includes(mode)) {
            container.innerHTML = "";
            
            // Lives icon (only show if not unlimited)
            if (livesValue !== "unlimited") {
              const livesIcon = document.createElement("div");
              livesIcon.className = "modifier-icon";
              livesIcon.title = `${livesValue} Lives`;
              livesIcon.textContent = livesValue === "100" ? "100" : livesValue;
              container.appendChild(livesIcon);
            }
            
            // Start question icon (only if not starting from beginning)
            if (startQuestion > 0) {
              const startIcon = document.createElement("div");
              startIcon.className = "modifier-icon";
              startIcon.title = `Start at Question ${startQuestion + 1}`;
              startIcon.textContent = `Q${startQuestion + 1}`;
              container.appendChild(startIcon);
            }
            
            // Time multiplier icon (only if not 1x)
            if (timeMultiplier !== 1) {
              const timeIcon = document.createElement("div");
              timeIcon.className = "modifier-icon";
              timeIcon.title = `Time Multiplier: ${timeMultiplier.toFixed(2)}x`;
              timeIcon.textContent = `${timeMultiplier.toFixed(2)}x`;
              container.appendChild(timeIcon);
            }
            
            // Fading mode icon (only if enabled)
            if (fadingMode !== "off") {
              const fadeIcon = document.createElement("div");
              fadeIcon.className = "modifier-icon";
              fadeIcon.title = `Vanish Mode: every ${fadingMode}s`;
              fadeIcon.textContent = `F${fadingMode}s`;
              container.appendChild(fadeIcon);
            }
          }
        });
      }
      
      // Initialize with default mode (normal)
      handleModeSelection("normal");
      
      // Initialize arrow selectors
      initializeArrowSelectors();
      setupArrowSelectors();
      
      // Update modifier icons initially
      updateModifierIcons();
      
      // Update modifier icons whenever modifiers change
      const livesSelect = document.getElementById("lives");
      const timeMultiplierSlider = document.getElementById("timeMultiplier");
      const fadingModeSelect = document.getElementById("fadingMode");
      const startQuestionSelect = document.getElementById("startQuestion");
      
      if (livesSelect) {
        livesSelect.addEventListener("change", updateModifierIcons);
      }
      if (timeMultiplierSlider) {
        timeMultiplierSlider.addEventListener("input", updateModifierIcons);
      }
      if (fadingModeSelect) {
        fadingModeSelect.addEventListener("change", updateModifierIcons);
      }
      if (startQuestionSelect) {
        startQuestionSelect.addEventListener("change", updateModifierIcons);
      }
      
      // Also update when arrow selectors change (they update the hidden selects)
      document.querySelectorAll(".arrow-selector").forEach(selector => {
        const leftBtn = selector.querySelector(".arrow-left");
        const rightBtn = selector.querySelector(".arrow-right");
        if (leftBtn) {
          leftBtn.addEventListener("click", () => {
            setTimeout(updateModifierIcons, 0);
          });
        }
        if (rightBtn) {
          rightBtn.addEventListener("click", () => {
            setTimeout(updateModifierIcons, 0);
          });
        }
      });
      
      // Collapse/expand functionality
      const modeSettingsToggle = document.getElementById("modeSettingsToggle");
      const modeSettingsTitle = document.querySelector(".mode-settings-title");
      const settingsContainer = document.getElementById("settingsContainer");
      
      function toggleModeSettings() {
        modeSettings.classList.toggle("collapsed");
      }
      
      if (modeSettingsToggle) {
        modeSettingsToggle.addEventListener("click", (e) => {
          e.stopPropagation();
          toggleModeSettings();
        });
      }
      
      if (modeSettingsTitle) {
        modeSettingsTitle.addEventListener("click", (e) => {
          // Only toggle if clicking on the title itself, not the button
          if (e.target === modeSettingsTitle || e.target === modeSettingsTitle.querySelector("span")) {
            toggleModeSettings();
          }
        });
      }
      
      // Arrow key navigation for modifiers (keyboard support for arrow selectors)
      const livesSelector = document.querySelector('[data-setting="lives"]');
      const fadingModeSelector = document.querySelector('[data-setting="fadingMode"]');
      const startQuestionSelector = document.querySelector('[data-setting="startQuestion"]');
      
      // Make arrow selectors focusable and keyboard navigable
      if (livesSelector) {
        livesSelector.setAttribute("tabindex", "0");
        const livesSelect = document.getElementById("lives");
        const livesValue = document.getElementById("livesValue");
        livesSelector.addEventListener("keydown", (e) => {
          if (e.key === "ArrowLeft") {
            e.preventDefault();
            cycleSelectOption(livesSelect, 'left', livesValue);
          } else if (e.key === "ArrowRight") {
            e.preventDefault();
            cycleSelectOption(livesSelect, 'right', livesValue);
          }
        });
      }
      
      if (fadingModeSelector) {
        fadingModeSelector.setAttribute("tabindex", "0");
        const fadingModeSelect = document.getElementById("fadingMode");
        const fadingModeValue = document.getElementById("fadingModeValue");
        fadingModeSelector.addEventListener("keydown", (e) => {
          if (e.key === "ArrowLeft") {
            e.preventDefault();
            cycleSelectOption(fadingModeSelect, 'left', fadingModeValue);
          } else if (e.key === "ArrowRight") {
            e.preventDefault();
            cycleSelectOption(fadingModeSelect, 'right', fadingModeValue);
          }
        });
      }
      
      if (startQuestionSelector) {
        startQuestionSelector.setAttribute("tabindex", "0");
        const startQuestionSelect = document.getElementById("startQuestion");
        const startQuestionValue = document.getElementById("startQuestionValue");
        startQuestionSelector.addEventListener("keydown", (e) => {
          if (e.key === "ArrowLeft") {
            e.preventDefault();
            cycleSelectOption(startQuestionSelect, 'left', startQuestionValue);
          } else if (e.key === "ArrowRight") {
            e.preventDefault();
            cycleSelectOption(startQuestionSelect, 'right', startQuestionValue);
          }
        });
      }
      
      // Time Multiplier slider navigation
      if (timeMultiplierSlider) {
        timeMultiplierSlider.addEventListener("keydown", (e) => {
          if (e.key === "ArrowLeft") {
            e.preventDefault();
            const currentValue = parseFloat(timeMultiplierSlider.value);
            const step = parseFloat(timeMultiplierSlider.step);
            const min = parseFloat(timeMultiplierSlider.min);
            const newValue = Math.max(min, currentValue - step);
            timeMultiplierSlider.value = newValue;
            timeMultiplierSlider.dispatchEvent(new Event('input', { bubbles: true }));
          } else if (e.key === "ArrowRight") {
            e.preventDefault();
            const currentValue = parseFloat(timeMultiplierSlider.value);
            const step = parseFloat(timeMultiplierSlider.step);
            const max = parseFloat(timeMultiplierSlider.max);
            const newValue = Math.min(max, currentValue + step);
            timeMultiplierSlider.value = newValue;
            timeMultiplierSlider.dispatchEvent(new Event('input', { bubbles: true }));
          }
        });
      }
    })();
  </script>
  <script type="module">
    const tips = [
      "You aer",
      "You are as good as you were five minutes ago",
      "Answer questions by answering the questions",
      "Maybe the true grand master is the questions you answered along the way",
      "The only way to get better is to keep playing",
      "Just try the first option, you might be right",
      "The best way to learn is to teach. Who you are teaching this to, is the question of time.",
      "Struggling? Play more.",
      "Every answer is a step towards the answer. Literally!",
      "Also try Tetris the Grand Master! (all four of it, i beg you)",
      "Every one second in Icy's Quiz Challenge is worth a thousand milliseconds in real life.",
      "You can play the Tetris the Grand Master OST if you want to experience the true power of the game. Make sure to turn off the music in the settings!",
      "Dying at the first questions? Skill issue.",
      "There is gamepad support! Use your controller to play!",
      "You can also play with your keyboard! Use the arrow keys to navigate the options and enter to submit.",
      "'maybe if someone links their brain with the computer, they can play as fast as a tas; - not the dev",
      "The answer is not always the first option. But the first option is often the answer.",
      "The game emphasizes on speed and not accurracy as it seems. Too bad!",
      "The MS-DOS font is a way to recreate the bone blocks. You play TGM3, you should know.",
      "The game is not perfect. But it is a fun way to test your knowledge. And it is a fun way to test your skills.",
      "DO NOT PANIC IF IT LOOKS STUCK",
      "it is pretty cold here i think, can i turn the ac up?",
      "cyclone, master pikii, and korean stacking",
      "The developer team is always there to help you. if you need anything, just ask.",
      "What happens if you answer all questions in hell mode? Who knows!",
      "Go drink some water, you might need it.",
      "You can play with your face turning the other way as good as when you play this blindfolded.",
      "should we add a fading element mode? idk",
      "counter time attack when? (oh yea if you did one of those please send me a video)",
      "Have fun, and if you are having fun, please share your score with us!",
      "the hardest quiz site that's ever existed",
      "it only gets harder",
      "‚úÖLimit quiz to 2GB of RAM",
      "is anyone even playing this?",
      "up pull pull",
      "[]",
      "are you even trying?",
      "you are not a genius, you are a human being. and that is enough.",
      "Fun fact: The midpoint between 0 and infinity is one. Which means every journey starts with a single step.",
      "STOP POSTING ABOUT „É¢„Ç®„ÉÅ„É£„ÉÉ„Ç´„Éï„Ç°„Ç§„Ç¢! I'M TIRED OF HEARING IT!!",
      "*gently jerks your left analog stick off*",
      "think fast move fast think fast move fast"
    ];

    const tipsContainer = document.getElementById("tipsContainer");
    const tipsText = document.getElementById("tipsText");
    let lastTipIndex = -1;

    function showRandomTip() {
      let randomIndex;
      // Ensure we don't show the same tip twice in a row
      do {
        randomIndex = Math.floor(Math.random() * tips.length);
      } while (randomIndex === lastTipIndex && tips.length > 1);

      lastTipIndex = randomIndex;
      tipsText.textContent = tips[randomIndex];
    }

    // Show first random tip immediately
    showRandomTip();

    // Show random tips every 8 seconds
    setInterval(showRandomTip, 8000);
  </script>
</html>
